---
permalink: /categories/
title: Categories
---

<!-- List of categories -->

<div id="archives">
{% for category in site.categories %}
  <div class="archive-group">
    {% capture category_name %}{{ category | first }}{% endcapture %}
    <div id="#{{ category_name | slugize }}"></div>
    <p></p>
    
    <h3 class="category-head">{{ category_name }}</h3>
    <a name="{{ category_name | slugize }}"></a>
    {% for post in site.categories[category_name] %}
    <article class="archive-item">
      <h4><a href="{{ site.baseurl }}{{ post.url }}">{{post.title}}</a></h4>
    </article>
    {% endfor %}
  </div>
{% endfor %}
</div>


{% assign year = "2014" %}
<h2>{{ year }}</h2>
{% assign posts_year = site.posts | where: "season", year | sort: "last" %}

<!-- Create empty arrays -->
{% assign tags = '' | split: ',' %}
{% assign unique_tags = '' | split: ',' %}

<!-- Map and flatten -->
{% assign article_tags =  posts_year | map: 'tags' | join: ',' | join: ',' | downcase | split: ',' %}

<!-- Push to tags -->
{% for tag in article_tags '%}
  {% assign tags = tags | push: tag %}
{% endfor %}

<!-- Uniq -->
{% assign tags = tags | sort %}
{% for tag in tags %}

  <!-- If not equal to previous then it must be unique as sorted -->
  {% unless tag == previous %}

    <!-- Push to unique_tags -->
    {% assign unique_tags = unique_tags | push: tag %}
  {% endunless %}

  {% assign previous = tag %}
{% endfor %}

<!-- unique_tags_number gets the number of tags that relevant to the specific year -->
{% assign unique_tags_number = unique_tags | last | size  | minus: 1%}

 <!-- loop and show the tag from only the relevant tag list-->
{% for x in (0..unique_tags_number) %}
<ul><h3>{{ unique_tags[x] }}<h3>

  <!-- assign posts_year_tag is all posts with the 2 variables -->
    {% assign posts_year_tag = site.posts | where: "tag", unique_tags[x] | where: "season", year | sort: "last" %}

{% for post in posts_year_tag %}    
    <li><a href="{{ post.url }}">{{ post.title }}</a></li>

{% endfor %}
</ul>
{% endfor %}